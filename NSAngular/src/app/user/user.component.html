
<p>
 Welcome {{ loggedInUser.firstName }} <br/>

 Last Name: {{ loggedInUser.lastName }} <br/>
 {{ loggedInUser.email }} <br/>
 {{ loggedInUser.title }} <br/>
 {{ loggedInUser.username }} <br/>
 </p>

 <h4 class="expense" *ngIf="expenses">Expense Reports (Click to Show Details)</h4>
 <table class="table table-striped" *ngIf="!selected && expenses">
    <tr>
      <th>Date Submitted</th>
      <th>Description</th>
      <th>Status</th>
    </tr>
    <tr *ngFor="let expense of expenses">
      <td (click)="displayExpense(expense)">{{ expense.createdAt | date: 'short' }}</td>
      <td (click)="displayExpense(expense)">{{ expense.description }}</td>
      <td (click)="displayExpense(expense)">{{ expense.status }}</td>
    </tr>
  </table>

   <table class="table table-striped" *ngIf="selected">
      <tr>
        <th>Date Submitted</th>
        <th>Description</th>
        <th>Status</th>
        <th>Attendees</th>
        <th>Amount</th>
        <th>GL Account</th>
        <th *ngIf="selected.createdAt != selected.updatedAt">Date Updated</th>
        <th><button type="button" class="btn btn-success" value="Return to List" (click)="displayExpenseTable()" *ngIf="selected">Return to List</button></th>
      </tr>
        <tr>
            <td>{{ selected.createdAt | date: 'short' }}</td>
            <td>{{ selected.description }}</td>
            <td>{{ selected.status }}</td>
            <td>{{ selected.attendees }}</td>
            <td>{{ selected.amount | currency}}</td>
            <td>{{ selected.glAccount }}</td>
            <td *ngIf="selected.createdAt !== selected.updatedAt">{{ selected.updatedAt  | date: 'short' }}</td>
            <td><button type="button" class="btn btn-warning" value="Return to List" [disabled]="selected.status === 'Under Review'" (click)="setEditExpense()" *ngIf="selected">Edit Report</button> </td>
          </tr>
        </table>

        <h4 class="update" *ngIf="updateExpense">&nbsp;&nbsp;Update Expense Report</h4>
        <div class="d-flex justify-content-center align-items-center container">
            <div class="row">
              <div class="col-lg-12 col-md-12">
                  <form #f="ngForm" role="form" *ngIf="updateExpense">
                    <label class="sr-only" for="description">Description:</label>
                      <input type="text" class="form-control mb-2 mr-sm-2" id="description" name="description" [(ngModel)]="updateExpense.description" placeholder="Description:">

                    <label class="sr-only" for="attendees">Attendees:</label>
                        <input type="text" class="form-control mb-2 mr-sm-2" id="attendees" name="attendees" [(ngModel)]="updateExpense.attendees" placeholder="Attendees:">

                    <label class="sr-only" for="amount">Amount</label>
                      <input type="text" class="form-control mb-2 mr-sm-2" id="amount" name="amount" [(ngModel)]="updateExpense.amount" placeholder="Amount:">

                      <label class="sr-only" for="glAccount">GL Account:</label>
                        <input type="text" class="form-control mb-2 mr-sm-2" id="glAccount" name="glAccount" [(ngModel)]="updateExpense.glAccount" placeholder="GL Account:">
                    <div class="text-center">
                      <button type="submit" class="btn btn-warning" value="Cancel" (click)="updateExpense = null">Cancel</button> &nbsp;
                      <button type="submit" class="btn btn-success" value="Update" (click)="updateExpenseReport(updateExpense, updateExpense.id)">Update</button>
                    </div>
                </form>
                <br/>
                </div>
                </div>
                </div>

        <br/>
        <h4 class="travel">Travel Reports (Click to Show Details)</h4>
        <table class="table table-striped" *ngIf="!clicked">
            <tr>
              <th>Date Submitted</th>
              <th>Trip Location</th>
              <th>Status</th>
            </tr>
            <tr *ngFor="let travel of travelReports">
              <td (click)="displayTravelReport(travel)">{{ travel.createdAt | date: 'short' }}</td>
              <td (click)="displayTravelReport(travel)">{{ travel.tripLocation }}</td>
              <td (click)="displayTravelReport(travel)">{{ travel.status }}</td>
            </tr>
          </table>

          <table class="table table-striped" *ngIf="clicked">
              <tr>
                <th>Date Submitted</th>
                <th>Trip Location</th>
                <th>Status</th>
                <th>Travel Dates</th>
                <th>Project Charge Code</th>
                <th>Total Cost</th>
                <th *ngIf="clicked.createdAt !== clicked.updatedAt">Date Updated</th>
                <th><button type="button" class="btn btn-success" value="Return to List" (click)="displayTravelTable()" *ngIf="clicked">Return to List</button></th>
              </tr>
                <tr>
                    <td>{{ clicked.createdAt | date: 'short' }}</td>
                    <td>{{ clicked.tripLocation }}</td>
                    <td>{{ clicked.status }}</td>
                    <td>{{ clicked.travelDates }}</td>
                    <td>{{ clicked.projectChargeCode }}</td>
                    <td>{{ clicked.totalCost | currency }}</td>
                    <td *ngIf="clicked.createdAt !== clicked.updatedAt">{{ clicked.updatedAt | date: 'short' }}</td>
                    <td><button type="button" class="btn btn-warning" value="Return to List" (click)="setEditTravel()" *ngIf="clicked">Edit Report</button> </td>
                  </tr>
                </table>

                <h4 class="update" *ngIf="updateTravel">&nbsp;&nbsp;&nbsp;&nbsp;Update Travel Report</h4>
        <div class="d-flex justify-content-center align-items-center container">
            <div class="row">
              <div class="col-lg-12 col-md-12">
                  <form #f="ngForm" role="form" *ngIf="updateTravel">
                    <label class="sr-only" for="tripLocation">Trip Location:</label>
                      <input type="text" class="form-control mb-2 mr-sm-2" id="tripLocation" name="tripLocation" [(ngModel)]="updateTravel.tripLocation" placeholder="Trip Location:">

                    <label class="sr-only" for="travelDates">Travel Dates:</label>
                        <input type="text" class="form-control mb-2 mr-sm-2" id="travelDates" name="travelDates" [(ngModel)]="updateTravel.travelDates" placeholder="Travel Dates:">

                    <label class="sr-only" for="projectChargeCode">Project Charge Code:</label>
                      <input type="text" class="form-control mb-2 mr-sm-2" id="projectChargeCode" name="projectChargeCode" [(ngModel)]="updateTravel.projectChargeCode"
                      placeholder="Project Charge Code:">

                      <label class="sr-only" for="totalCost">Total Cost:</label>
                        <input type="text" class="form-control mb-2 mr-sm-2" id="totalCost" name="totalCost" [(ngModel)]="updateTravel.totalCost" placeholder="Total Cost:">
                    <div class="text-center">
                      <button type="submit" class="btn btn-warning" value="Cancel" (click)="updateTravel = null">Cancel</button> &nbsp;
                      <button type="submit" class="btn btn-success" value="Update" (click)="updateTravelReport(updateTravel, updateTravel.id)">Update</button>
                    </div>
                </form>
                </div>
                </div>
                </div>
                <br/>
                <br/>

